

<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
                <title>线段树扩展插件1 - 题目 - 焦作一中信息学竞赛训练题库</title>

        <script type="text/javascript">uojHome = 'http://172.20.0.190'</script>

        <!-- Bootstrap core CSS -->
        <link type="text/css" rel="stylesheet" href="http://172.20.0.190/css/bootstrap.min.css?v=2015.5.31" />        <!-- Bootstrap theme -->
        <link type="text/css" rel="stylesheet" href="http://172.20.0.190/css/bootstrap-theme.min.css?v=2015.5.31" />
        <!-- Custom styles for this template -->
        <link type="text/css" rel="stylesheet" href="http://172.20.0.190/css/uoj-theme.css?v=2.33" />
        <!-- jQuery (necessary for Bootstrap\'s JavaScript plugins) -->
        <script src="http://172.20.0.190/js/jquery.min.js"></script>
        <!-- jQuery autosize -->
        <script src="http://172.20.0.190/js/jquery.autosize.min.js"></script>        <script type="text/javascript">
            $(document).ready(function() {
                $('textarea').autosize();
            });
        </script>

        <!-- jQuery cookie -->
        <script src="http://172.20.0.190/js/jquery.cookie.min.js"></script>
        <!-- jQuery modal -->
        <script src="http://172.20.0.190/js/jquery.modal.js"></script>
        <!-- jQuery tag canvas -->
        
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="http://172.20.0.190/js/bootstrap.min.js?v=2015.5.31"></script>
        <!-- Color converter -->
        <script src="http://172.20.0.190/js/color-converter.min.js"></script>
        <!-- uoj -->
        <script src="http://172.20.0.190/js/uoj.js?v=2016.8.15"></script>
        <!-- LAB -->
        <script src="http://172.20.0.190/js/LAB.min.js"></script>
        <!-- UOJ ico -->
        <link rel="shortcut icon" href="http://172.20.0.190/favicon.ico" />

        
        
        
                        <!-- Bootstrap dialog -->
        <link type="text/css" rel="stylesheet" href="http://172.20.0.190/css/bootstrap-dialog.min.css" />        <script src="http://172.20.0.190/js/bootstrap-dialog.min.js"></script>        
        
                <!-- MathJax -->
<script>
        window.MathJax = {
            tex: {
                inlineMath: [["$", "$"], ["\\\\(", "\\\\)"]],
                processEscapes: true
            },
            options: {
                menuOptions: {
                    settings: {
                        zoom: "Hover"
                    }
                }
            }
        };
    </script>
 <script src="http://172.20.0.190/js/MathJax-3.2.0/es5/tex-mml-chtml.js"></script>
  
     
                <!-- jquery form -->
        <script src="http://172.20.0.190/js/jquery.form.min.js"></script>        
        
        
        
        
        
                <!-- shjs -->
        <link type="text/css" rel="stylesheet" href="http://172.20.0.190/css/sh_typical.min.css" />        <script src="http://172.20.0.190/js/sh_main.min.js"></script>        <script type="text/javascript">$(document).ready(function(){sh_highlightDocument()})</script>
        
        
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script type="text/javascript">
        before_window_unload_message = null;
        $(window).on('beforeunload', function() {
            if (before_window_unload_message !== null) {
                return before_window_unload_message;
            }
        });
        </script>

            </head>
    <body role="document">
        <div class="container theme-showcase" role="main">
                        <div>
                <ul class="nav nav-pills pull-right" role="tablist">
                                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown">
                            <span class="uoj-username" data-rating="1463" data-link="0">fengyixuan_2027</span>                         </a>
                        <ul class="dropdown-menu" role="menu">
                            <li role="presentation"><a href="http://172.20.0.190/user/profile/fengyixuan_2027">个人信息</a></li>
                            <li role="presentation"><a href="http://172.20.0.190/user/msg">私信&nbsp;&nbsp;</a></li>
                            


 			    <li role="presentation"><a href="http://172.20.0.190/user/system-msg">系统消息&nbsp;&nbsp;</a></li>
                                                    </ul>
                    </li>
                    <li role="presentation"><a href="http://172.20.0.190/logout?_token=5u48r7GdxKrF8x9nBM4dv7MFf8364UDz2Ut5uBbqUgwUfY8DJxE9hX3Up8uB">登出</a></li>
                                </ul>
                <h1 class="hidden-xs"><a href="http://172.20.0.190"><img src="http://172.20.0.190/pictures/UOJ_small.png" alt="UOJ Logo" class="img-rounded" style="width:39px; height:39px;" /></a> 焦作一中信息学竞赛训练题库</h1>
                <h1 class="visible-xs">JZYZ</h1>
            </div>

            <div class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://172.20.0.190">首页</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                                <li><a href="/problems">题库</a></li>
                <li><a href="/homeworks">作业</a></li>
                <li><a href="/contests">比赛</a></li>
  		<li><a href="/ranklist">积分</a></li>               
		 <li><a href="/heroes">卷神榜</a></li>
		
		<li><a href="/submissions">提交记录</a></li>
                <li><a href="/hacks">Hack!</a></li>
                <li><a href="/blogs">博客</a></li>
                                <li><a href="/faq">帮助</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>
            
            <div class="uoj-content">

<div class="pull-right">
    <div class="uoj-click-zan-block" data-id="5053" data-type="P" data-val="0" data-cnt="0"></div></div>
<script>
$(document).ready(function() {
    });
</script>
<div class="page-header row">
    <h1 class="col-md-3 text-left"><small>[2027届强基班]--线段树基础#2--拓展</small></h1>
    <h1 class="col-md-5 text-center">L. 线段树扩展插件1</h1>
    <div class="col-md-4 text-right" id="contest-countdown"></div>
</div>
<a role="button" class="btn btn-info pull-right" href="/contest/1621/problem/5053/statistics"><span class="glyphicon glyphicon-stats"></span> 统计</a>
<script type="text/javascript">
checkContestNotice(1621, '2024-03-23 17:10:10');
$('#contest-countdown').countdown(1372548);
</script>
<div class="text-center"><b>
时间限制：2s&nbsp;&nbsp;&nbsp;&nbsp;空间限制：256MB&nbsp;&nbsp;&nbsp;&nbsp;输入文件：sequence.in&nbsp;&nbsp;&nbsp;&nbsp;输出文件：sequence.out<br><font color="red">当前24小时内您还剩25次提交本题的机会</font></b></div>
<ul class="nav nav-tabs" role="tablist">
    <li class="active"><a href="#tab-statement" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-book"></span> 描述</a></li>
    <li><a href="#tab-submit-answer" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-upload"></span> 提交</a></li>
        <li><a id="discussion-href" href="#tab-discussions" role="tab" data-toggle="tab" onclick='javascript:self.location=("?flag=1")'><span class="glyphicon glyphicon-list-alt"></span> 解题讨论区 </a></li>
                <li><a href="#tab-custom-test" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-console"></span> 自定义测试</a></li>
                <li><a href="/contest/1621" role="tab">返回</a></li>
    </ul>
<div class="tab-content">
    <div class="tab-pane active" id="tab-statement">
	       		<article class="top-buffer-md"><h3>题目描述</h3>
<p>$\text{Larunatrecy}$ 把他的线段树装了个扩展插件，使得它可以支持更强大的序列操作。</p>
<p>给定一个长度为 $n$ 的序列 $A_0,A_1\cdots A_{n-1}$，你需要维护 $m$ 次操作：</p>
<ul><li><p>$1,l,r,c$ ，对于 $i\in [l,r]$，$A_i=A_i+c$</p>
</li>
<li><p>$2,l,r,d$ ，对于 $i\in [l,r]$，$A_i=\lfloor \frac{A_i}{d}\rfloor $</p>
</li>
<li><p>$3,l,r$ ，你需要求出 $\min\limits_{i=l}^r A_i$</p>
</li>
<li><p>$4,l,r$ ，你需要求出 $\sum\limits_{i=l}^r A_i$</p>
</li>
</ul><h3>输入格式</h3>
<p>第一行两个整数 $n,m$ 。</p>
<p>接下来 $n$ 个数代表 $A_0,A_1\cdots A_{n-1}$ 。</p>
<p>接下来 $m$ 行描述操作。</p>
<h3>输出格式</h3>
<p>每个询问操作输出一个整数。</p>
<h3>样例输入</h3>
<pre><code class="sh_cpp">10 10
-5 -4 -3 -2 -1 0 1 2 3 4
1 0 4 1
1 5 9 1
2 0 9 3
3 0 9
4 0 9
3 0 1
4 2 3
3 4 5
4 6 7
3 8 9</code></pre>
<h3>样例输出</h3>
<pre><code class="sh_cpp">-2
-2
-2
-2
0
1
1</code></pre>
<h3>数据规模</h3>
<p>对于 $30\%$，$n,m\leq 10^3$</p>
<p>对于 $60\%$，数据随机。</p>
<p>对于 $100\%$，$1\leq n,m\leq 10^5,-10^9\leq A_i\leq 10^9,-10^4\leq c\leq 10^4,2\leq d\leq 10^9$</p>
</article>
		</div>
    <div class="tab-pane" id="tab-submit-answer">
        <div class="top-buffer-sm"></div>
                <form action="/homework/1621/problem/5053" method="post" class="form-horizontal" id="form-answer" enctype="multipart/form-data"><input type="hidden" name="_token" value="5u48r7GdxKrF8x9nBM4dv7MFf8364UDz2Ut5uBbqUgwUfY8DJxE9hX3Up8uB" /><div class="form-group" id="form-group-answer_answer"></div>
<script type="text/javascript">
$('#form-group-answer_answer').source_code_form_group('answer_answer', '源文件:answer', "<option selected=\"selected\">C++11O2<\/option><option>C++11<\/option><option>C++<\/option><option>Python2.7<\/option><option>Java7<\/option><option>Python3<\/option><option>Java8<\/option><option>C<\/option><option>Pascal<\/option>");
</script><div class="text-center"><button type="submit" id="button-submit-answer" name="submit-answer" value="answer" class="btn btn-default">提交</button></div></form><script type="text/javascript">
$(document).ready(function() {
    $('#form-answer').submit(function(e) {
        var ok = true;
        var post_data = {};
        if (post_data != {}) {
            post_data['check-answer'] = "";
            $.ajax({
                url : '/homework/1621/problem/5053',
                type : 'POST',
                dataType : 'json',
                async : false,

                data : post_data,
                success : function(data) {
                    if (data.extra != undefined) {
                        alert(data.extra);
                        ok = false;
                    }
                }
            });
        }
        $(this).find("input[type='file']").each(function() {
            for (var i = 0; i < this.files.length; i++) {
                if (this.files[i].size > 10 * 1024 * 1024) {
                    $('#div-' + $(this).attr('name')).addClass('has-error');
                    $('#help-' + $(this).attr('name')).text('文件大小不能超过10M');
                    ok = false;
                } else {
                    $('#div-' + $(this).attr('name')).removeClass('has-error');
                    $('#help-' + $(this).attr('name')).text('');
                }
            }
        });
        return ok;
    });
});
</script>    </div>
        <div class="tab-pane" id="tab-discussions">
        <div class="pull-right">
            <div class="btn-group">
                <a href="http://172.20.0.190/blogof/fengyixuan-2027/blog/newdiscussion/p5053" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-edit"></span>NEW!</a>
            </div>
        </div>
        <center>
        <h3>解题讨论区</h3>
        </center>
        <div class="table-responsive"><table class="table table-hover"><thead>    <tr>
        <th width="60%">标题</th>
        <th width="20%">发表者</th>
        <th width="20%">发表日期</th>
    </tr></thead><tbody><tr><td colspan="233">无</td></tr></tbody></table></div>    </div>
    	        <div class="tab-pane" id="tab-custom-test">
        <div class="top-buffer-sm"></div>
        <form action="/homework/1621/problem/5053" method="post" class="form-horizontal" id="form-custom_test" enctype="multipart/form-data"><input type="hidden" name="_token" value="5u48r7GdxKrF8x9nBM4dv7MFf8364UDz2Ut5uBbqUgwUfY8DJxE9hX3Up8uB" /><div class="form-group" id="form-group-custom_test_answer"></div>
<script type="text/javascript">
$('#form-group-custom_test_answer').source_code_form_group('custom_test_answer', '源文件:answer', "<option selected=\"selected\">C++11O2<\/option><option>C++11<\/option><option>C++<\/option><option>Python2.7<\/option><option>Java7<\/option><option>Python3<\/option><option>Java8<\/option><option>C<\/option><option>Pascal<\/option>");
</script><div class="form-group" id="form-group-custom_test_input"></div>
<script type="text/javascript">
$('#form-group-custom_test_input').text_file_form_group('custom_test_input', '文本文件:input.txt');
</script><div id="div-custom_test_result"></div><div class="text-center"><button type="submit" id="button-submit-custom_test" name="submit-custom_test" value="custom_test" class="btn btn-default">运行</button></div></form><script type="text/javascript">
$(document).ready(function() {
    $('#form-custom_test').keydown(function(e) {
        if (e.keyCode == 13 && e.ctrlKey) {
            $('#button-submit-custom_test').click();
        }
    });
    $('#form-custom_test').submit(function(e) {
        var ok = true;
        var post_data = {};
        if (post_data != {}) {
            post_data['check-custom_test'] = "";
            $.ajax({
                url : '/homework/1621/problem/5053',
                type : 'POST',
                dataType : 'json',
                async : false,

                data : post_data,
                success : function(data) {
                    if (data.extra != undefined) {
                        alert(data.extra);
                        ok = false;
                    }
                }
            });
        }
        $(this).find("input[type='file']").each(function() {
            for (var i = 0; i < this.files.length; i++) {
                if (this.files[i].size > 10 * 1024 * 1024) {
                    $('#div-' + $(this).attr('name')).addClass('has-error');
                    $('#help-' + $(this).attr('name')).text('文件大小不能超过10M');
                    ok = false;
                } else {
                    $('#div-' + $(this).attr('name')).removeClass('has-error');
                    $('#help-' + $(this).attr('name')).text('');
                }
            }
        });
        e.preventDefault();
        if (ok) {
            $(this).ajaxSubmit({
                beforeSubmit: function(formData) {
                    formData.push({name: 'submit-custom_test', value: 'custom_test', type: 'submit'});
                },
                success : function(response_text) {custom_test_onsubmit(response_text, $('#div-custom_test_result')[0], '/homework/1621/problem/5053?get=custom-test-status-details')}
            });
        }
    });
});
</script>    </div>
    </div>
            </div>
                        <div class="uoj-footer">
                <p>
                    <a href="http://172.20.0.190/homework/1621/problem/5053?locale=zh-cn"><img src="/pictures/lang/cn.png" alt="中文" /></a> 
                    <a href="http://172.20.0.190/homework/1621/problem/5053?locale=en"><img src="/pictures/lang/gb.png" alt="English" /></a>
                </p>
                
                <ul class="list-inline">
                    <li>焦作一中信息学竞赛训练题库</li>
                                    </ul>
                
                <p>Server time: 2024-03-23 17:10:10 | Maintainer: JZYZ
            </div>
                    </div>
        <!-- /container -->
    </body>
</html>


